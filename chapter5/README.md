## 5장 애플리케이션 마이그레이션

### 계약

클라우드 파운드리는 애플리케이션 배포나 관리에 관한운영 측면의 이슈를 줄이거나 또는 일관성을 유지해줌으로써 작업 속도를 개선하는 것을 목표로 한다. \
이러한 목표를 달성하기 위해서는 **애플리케이션이 올라가는 플랫폼과 애플리케이션 사이에는 내부적으로 지켜야하는 계약이 있는데**, 이 계약을 통해 플랫폼이 애플리케이션을 정상적으로 실행하고 운영한다는것을 보장할 수
있다. \

이번장에서는 기존 애플리케이션을 클라우드 네이티브 환경에 마이그레이션 하기위한 애플리케이션 포크리프팅에 대해 알아본다.

### 애플리케이션 환경 마이그레이션

#### 바로 가져다 쓰는 빌드팩

클라우드 파운드리는 애플리케이션이 실행되는 환경을 아주 명확하게 가정한다. 이런 가정은 허로쿠(Heroku)에서 도입한 빌드팩(BuildPack)에 담겨있기도 하다. 빋드팩에는 jar, war, 레일즈 애플리케이션,
노드제이에스 애플리케이션 등이 클라우드 파운드리에서 컨테이너로 만들어지는데 필요한 정보가 담겨있다. 이를통해 클라우드 파운드리는 애플리케이션에 종류와 관계없이 리눅스 컨테이너만 신경쓰고 관리할 수 있게된다.

- [Cloud Native BuildPack](https://buildpacks.io)

스프링에서도 클라우드 네이티브 빌드팩에서 정의한 계약에 따라 OCI(Open Container Image)를 생성하는 Bulider Plugin을 제공한다

- [Packaging OCI Images](https://docs.spring.io/spring-boot/docs/2.5.0/gradle-plugin/reference/htmlsingle/#build-image)

#### 커스텀 빌드팩

빌드팩은 원하는 대로 설정할 수 있는 유연성을 유지하면서도 합리적인 기본값을 제공한다. 하지만 시스템 빌드팩이 요구사항에 마짖 않는다면, 다양한 커스텀 빌드팩을 사용할 수 있다.

#### 컨테이너화된 애플리케이션

자바EE와 같은 애플리케이션은 환경에 따라 다른 환경으로 마이그레이션 하기 어려운 경향이 있다. 이를 해결하기 위해 클라우드 파운드리는 Dokcer 등을 통해 컨테이너화(OCI)된 애플리케이션을 지원한다.

